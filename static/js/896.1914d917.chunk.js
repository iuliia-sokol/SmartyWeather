"use strict";(self.webpackChunksmarty_weather=self.webpackChunksmarty_weather||[]).push([[896],{4068:function(n,e,t){t.r(e),t.d(e,{default:function(){return B}});var i,r,o,a,s,c,u,l,d,p,x=t(9439),g=t(3535),f=t(1652),m=t(621),h=t(5861),b=t(4687),y=t.n(b),Z=t(2791),v=t(9434),w=t(1686),S=t.n(w),k={width:"380px",position:"right-top",distance:"10px",opacity:1,fontSize:"20px",borderRadius:"12px"},j=t(6869),z=t(21),P=t(1912),C=t(6554),_=function(){var n=(0,h.Z)(y().mark((function n(e){var t;return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,P.Z.get("".concat(C.uQ,"?name=").concat(e,"&count=100"));case 3:return t=n.sent,n.abrupt("return",t.data.results);case 7:n.prev=7,n.t0=n.catch(0),console.log("".concat(n.t0,": 'Unable to retrieve places'"));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),H=t(168),I=t(6444),N=I.ZP.form(i||(i=(0,H.Z)(["\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  height: fit-content;\n  padding: 32px 16px;\n  background: rgba(255, 255, 255, 0.33);\n  border-radius: 30px;\n  margin: 0 auto;\n  margin-bottom: 56px;\n  gap: 32px;\n  box-shadow: inset -5px -5px 9px rgba(255, 255, 255, 0.45),\n    inset 5px 5px 9px rgba(94, 104, 121, 0.3);\n  backdrop-filter: blur(5.3px);\n  -webkit-backdrop-filter: blur(5.3px);\n  border: 1px solid rgba(255, 255, 255, 0.77);\n  font-family: ",";\n  font-weight: ",";\n  font-size: 20px;\n  line-height: ",";\n\n  @media screen and (min-width: 768px) {\n    padding: 32px 56px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    width: 70%;\n  }\n"])),(function(n){return n.theme.fonts.main}),(function(n){return n.theme.fontWeights[0]}),(function(n){return n.theme.lineHeights.main})),R=I.ZP.div(r||(r=(0,H.Z)(["\n  align-items: center;\n  display: flex;\n  justify-content: center;\n"]))),E=I.ZP.div(o||(o=(0,H.Z)(["\n  padding: 8px;\n"]))),F=I.ZP.label(a||(a=(0,H.Z)(["\n  display: block;\n  margin-bottom: 8px;\n"]))),L=I.ZP.span(s||(s=(0,H.Z)(["\n  background: #ff00002e;\n  border-radius: 20px;\n  display: inline-block;\n  font-size: 14px;\n  margin-left: 4px;\n  padding: 8px;\n"]))),Q=I.ZP.input(c||(c=(0,H.Z)(["\n  border-radius: 16px;\n  border: none;\n  box-sizing: border-box;\n  display: block;\n  height: 42px;\n  padding: 12px 16px;\n  width: 100%;\n  background-color: rgba(255, 255, 255, 0.63);\n  font-size: 16px;\n\n  @media screen and (min-width: 768px) {\n    font-size: 20px;\n  }\n"]))),T=I.ZP.ul(u||(u=(0,H.Z)(["\n  border-radius: 16px;\n  max-height: 20vh;\n  overflow-y: scroll;\n  background-color: rgba(255, 255, 255, 0.63);\n"]))),U=I.ZP.li(l||(l=(0,H.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 8px 16px;\n"]))),W=I.ZP.span(d||(d=(0,H.Z)(["\n  display: inline-block;\n  font-size: 12px;\n  margin-top: 8px;\n  margin-bottom: 8px;\n\n  @media screen and (min-width: 768px) {\n    font-size: 16px;\n    margin-top: 12px;\n    margin-bottom: 12px;\n  }\n"]))),q=I.ZP.span(p||(p=(0,H.Z)([""]))),A=t(184),D=function(n){var e=n.elementRef,t=n.hideSuggs,i=n.isHideSuggs,r=n.setIsHideSuggs,o=n.setSelection,a=(0,Z.useState)(""),s=(0,x.Z)(a,2),c=s[0],u=s[1],l=(0,Z.useState)(""),d=(0,x.Z)(l,2),p=d[0],f=d[1],m=(0,Z.useState)(""),b=(0,x.Z)(m,2),w=b[0],P=b[1],H=(0,Z.useState)(""),I=(0,x.Z)(H,2),D=I[0],G=I[1],K=(0,Z.useState)(""),Y=(0,x.Z)(K,2),B=Y[0],J=Y[1],M=(0,Z.useState)(""),O=(0,x.Z)(M,2),V=O[0],X=O[1],$=(0,Z.useState)([]),nn=(0,x.Z)($,2),en=nn[0],tn=nn[1],rn=(0,Z.useState)(""),on=(0,x.Z)(rn,2),an=on[0],sn=on[1],cn=(0,v.I0)();(0,Z.useEffect)((function(){c||t()}),[c,t]);var un=function(){var n=(0,h.Z)(y().mark((function n(e){var t;return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u(e.target.value),r(!1),c){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,_(c);case 6:t=n.sent,!en.includes(e.target.value)&&t&&tn(t.filter((function(n){return"AIRP"!==n.feature_code})).map((function(n){return n.admin1?{city:n.name,countryName:n.country,region:n.admin1,countryCode:n.country_code.toLowerCase(),latitude:n.latitude,longitude:n.longitude,timezone:n.timezone}:{city:n.name,countryName:n.country,region:"",countryCode:n.country_code.toLowerCase(),latitude:n.latitude,longitude:n.longitude,timezone:n.timezone}}))),t&&t.error&&sn(t.error);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),ln=function(){u(""),tn([]),sn(""),t()};return(0,A.jsx)(N,{onSubmit:function(n){n.preventDefault(),w||S().Notify.info("You should select city",k),w&&(cn((0,z.ob)(D)),cn((0,z.Q)(B)),cn((0,z.s7)(c)),cn((0,z.wF)(p)),cn((0,j.FU)({lat:D,long:B})),cn((0,j.yT)({lat:D,long:B})),cn((0,j.dE)({lat:D,long:B})),cn((0,j.ui)({lat:D,long:B,timezone:V})),cn((0,j.e0)({lat:D,long:B,timezone:V})),o(!0),cn((0,j.lW)(c))),ln()},children:(0,A.jsx)(R,{children:(0,A.jsxs)(E,{children:[(0,A.jsx)(F,{children:an&&(0,A.jsx)(L,{children:an})}),(0,A.jsx)(Q,{type:"text",id:"city",name:"city",onChange:un,value:c,required:!0,autoComplete:"off",placeholder:"Start typing your city name"}),(0,A.jsx)(T,{style:{display:i?"none":"block"},ref:e,children:en.map((function(n,e){return(0,A.jsxs)(U,{onClick:function(){t(n.city),u(n.city),G(n.latitude),J(n.longitude),X(n.timezone),f(n.countryName),P(!0)},children:[(0,A.jsx)("img",{src:"".concat(C.tx).concat(n.countryCode,".svg"),width:"30",alt:"flag"}),(0,A.jsxs)(q,{children:[n.city,", ",n.region,", ",n.countryName]})]},""+n+e)}))}),(0,A.jsx)(W,{children:"*start typing and choose your city from the given options"}),(0,A.jsx)(g.o,{type:"submit",text:"Submit",color:"white"})]})})})},G=t(970),K=t(3623).Container,Y=function(){var n=(0,v.I0)(),e=(0,v.v9)(G.p0),t=(0,v.v9)(G.n3),i=(0,v.v9)(G.GZ),r=(0,v.v9)(G._P),o=(0,Z.useRef)(),a=(0,Z.useState)(!1),s=(0,x.Z)(a,2),c=s[0],u=s[1],l=(0,Z.useState)(!1),d=(0,x.Z)(l,2),p=d[0],h=d[1];(0,Z.useEffect)((function(){e&&0===r.length&&n((0,j.KP)())}),[e,n,r.length]);var b=function(){u(!0)};return(0,A.jsxs)("main",{style:{minHeight:"70vh"},onClick:function(n){n.currentTarget!==o&&b()},children:[(0,A.jsx)(f.p,{selector:p?G.t1:G._P,page:"search"}),(0,A.jsxs)(K,{children:[(0,A.jsx)(D,{elementRef:o,isHideSuggs:c,setIsHideSuggs:u,hideSuggs:b,selection:p,setSelection:h}),p&&t&&i&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(g.o,{text:"Search other location"}),(0,A.jsx)(m.S,{})]})]})]})},B=Z.memo(Y)}}]);
//# sourceMappingURL=896.1914d917.chunk.js.map