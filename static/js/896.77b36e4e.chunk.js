"use strict";(self.webpackChunksmarty_weather=self.webpackChunksmarty_weather||[]).push([[896],{4068:function(n,e,t){t.r(e),t.d(e,{default:function(){return A}});var i,r,o,a,s,c,u,l,d,p,x=t(9439),g=t(1652),f=t(621),m=t(5861),h=t(4687),b=t.n(h),y=t(3535),Z=t(2791),v=t(9434),w=t(1686),S=t.n(w),k={width:"380px",position:"right-top",distance:"10px",opacity:1,fontSize:"20px",borderRadius:"12px"},j=t(6869),z=t(21),P=t(1912),C=t(6554),H=function(){var n=(0,m.Z)(b().mark((function n(e){var t;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,P.Z.get("".concat(C.uQ,"?name=").concat(e,"&count=100"));case 3:return t=n.sent,n.abrupt("return",t.data.results);case 7:n.prev=7,n.t0=n.catch(0),console.log("".concat(n.t0,": 'Unable to retrieve places'"));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),_=t(168),I=t(6444),R=I.ZP.form(i||(i=(0,_.Z)(["\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  height: fit-content;\n  padding: 32px 16px;\n  background: rgba(255, 255, 255, 0.33);\n  border-radius: 30px;\n  margin: 0 auto;\n  margin-bottom: 56px;\n  gap: 32px;\n  box-shadow: inset -5px -5px 9px rgba(255, 255, 255, 0.45),\n    inset 5px 5px 9px rgba(94, 104, 121, 0.3);\n  backdrop-filter: blur(5.3px);\n  -webkit-backdrop-filter: blur(5.3px);\n  border: 1px solid rgba(255, 255, 255, 0.77);\n  font-family: ",";\n  font-weight: ",";\n  font-size: 20px;\n  line-height: ",";\n\n  @media screen and (min-width: 768px) {\n    padding: 32px 56px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    width: 70%;\n  }\n"])),(function(n){return n.theme.fonts.main}),(function(n){return n.theme.fontWeights[0]}),(function(n){return n.theme.lineHeights.main})),E=I.ZP.div(r||(r=(0,_.Z)(["\n  align-items: center;\n  display: flex;\n  justify-content: center;\n"]))),L=I.ZP.div(o||(o=(0,_.Z)(["\n  padding: 8px;\n"]))),Q=I.ZP.label(a||(a=(0,_.Z)(["\n  display: block;\n  margin-bottom: 8px;\n"]))),T=I.ZP.span(s||(s=(0,_.Z)(["\n  background: #ff00002e;\n  border-radius: 20px;\n  display: inline-block;\n  font-size: 14px;\n  margin-left: 4px;\n  padding: 8px;\n"]))),U=I.ZP.input(c||(c=(0,_.Z)(["\n  border-radius: 16px;\n  border: none;\n  box-sizing: border-box;\n  display: block;\n  height: 42px;\n  padding: 12px 16px;\n  width: 100%;\n  background-color: rgba(255, 255, 255, 0.63);\n  font-size: 16px;\n\n  @media screen and (min-width: 768px) {\n    font-size: 20px;\n  }\n"]))),W=I.ZP.ul(u||(u=(0,_.Z)(["\n  border-radius: 16px;\n  max-height: 20vh;\n  overflow-y: scroll;\n  background-color: rgba(255, 255, 255, 0.63);\n"]))),q=I.ZP.li(l||(l=(0,_.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 8px 16px;\n"]))),B=I.ZP.span(d||(d=(0,_.Z)(["\n  display: inline-block;\n  font-size: 12px;\n  margin-top: 8px;\n  margin-bottom: 8px;\n\n  @media screen and (min-width: 768px) {\n    font-size: 16px;\n    margin-top: 12px;\n    margin-bottom: 12px;\n  }\n"]))),D=I.ZP.span(p||(p=(0,_.Z)([""]))),F=t(184),G=function(n){var e=n.elementRef,t=n.hideSuggs,i=n.isHideSuggs,r=n.setIsHideSuggs,o=n.setSelection,a=(0,Z.useState)(""),s=(0,x.Z)(a,2),c=s[0],u=s[1],l=(0,Z.useState)(""),d=(0,x.Z)(l,2),p=d[0],g=d[1],f=(0,Z.useState)(""),h=(0,x.Z)(f,2),w=h[0],P=h[1],_=(0,Z.useState)(""),I=(0,x.Z)(_,2),G=I[0],K=I[1],N=(0,Z.useState)(""),Y=(0,x.Z)(N,2),A=Y[0],J=Y[1],M=(0,Z.useState)([]),O=(0,x.Z)(M,2),V=O[0],X=O[1],$=(0,Z.useState)(""),nn=(0,x.Z)($,2),en=nn[0],tn=nn[1],rn=(0,v.I0)();(0,Z.useEffect)((function(){c||t()}),[c,t]);var on=function(){var n=(0,m.Z)(b().mark((function n(e){var t;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u(e.target.value),r(!1),c){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,H(c);case 6:t=n.sent,!V.includes(e.target.value)&&t&&X(t.map((function(n){return n.admin1?{city:n.name,region:n.admin1,country:n.country_code.toLowerCase(),latitude:n.latitude,longitude:n.longitude,timezone:n.timezone}:{city:n.name,region:"",country:n.country_code.toLowerCase(),latitude:n.latitude,longitude:n.longitude,timezone:n.timezone}}))),t&&t.error&&tn(t.error);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),an=function(){u(""),X([]),tn(""),t()};return(0,F.jsx)(R,{onSubmit:function(n){n.preventDefault(),p||S().Notify.info("You should select city",k),p&&(rn((0,z.ob)(w)),rn((0,z.Q)(G)),rn((0,j.Bs)({lat:w,long:G})),rn((0,j.FU)({lat:w,long:G})),rn((0,j.yT)({lat:w,long:G})),rn((0,j.dE)({lat:w,long:G})),rn((0,j.ui)({lat:w,long:G,timezone:A})),rn((0,j.e0)({lat:w,long:G,timezone:A})),o(!0),rn((0,j.lW)(c))),an()},children:(0,F.jsx)(E,{children:(0,F.jsxs)(L,{children:[(0,F.jsx)(Q,{children:en&&(0,F.jsx)(T,{children:en})}),(0,F.jsx)(U,{type:"text",id:"city",name:"city",onChange:on,value:c,required:!0,autoComplete:"off",placeholder:"Start typing your city name"}),(0,F.jsx)(W,{style:{display:i?"none":"block"},ref:e,children:V.map((function(n,e){return(0,F.jsxs)(q,{onClick:function(){t(n.city),u(n.city),P(n.latitude),K(n.longitude),J(n.timezone),g(!0)},children:[(0,F.jsx)("img",{src:"".concat(C.tx).concat(n.country,".svg"),width:"30",alt:"flag"}),(0,F.jsxs)(D,{children:[n.city,", ",n.region]})]},""+n+e)}))}),(0,F.jsx)(B,{children:"*start typing and choose your city from the given options"}),(0,F.jsx)(y.o,{type:"submit",text:"Submit",color:"white"})]})})})},K=t(970),N=t(3623).Container,Y=function(){var n=(0,v.I0)(),e=(0,v.v9)(K.p0),t=(0,v.v9)(K.n3),i=(0,v.v9)(K.GZ),r=(0,v.v9)(K._P),o=(0,Z.useRef)(),a=(0,Z.useState)(!1),s=(0,x.Z)(a,2),c=s[0],u=s[1],l=(0,Z.useState)(!1),d=(0,x.Z)(l,2),p=d[0],m=d[1];(0,Z.useEffect)((function(){e&&0===r.length&&n((0,j.KP)())}),[e,n,r.length]);var h=function(){u(!0)};return(0,F.jsxs)("main",{style:{minHeight:"70vh"},onClick:function(n){n.currentTarget!==o&&h()},children:[(0,F.jsx)(g.p,{selector:p?K.t1:K._P,page:"search"}),(0,F.jsxs)(N,{children:[(0,F.jsx)(G,{elementRef:o,isHideSuggs:c,setIsHideSuggs:u,hideSuggs:h,selection:p,setSelection:m}),p&&t&&i&&(0,F.jsx)(f.S,{})]})]})},A=Z.memo(Y)}}]);
//# sourceMappingURL=896.77b36e4e.chunk.js.map