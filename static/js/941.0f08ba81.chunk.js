"use strict";(self.webpackChunksmarty_weather=self.webpackChunksmarty_weather||[]).push([[941],{9941:function(n,e,t){t.r(e),t.d(e,{default:function(){return M}});var i,r,o,a,s,c,u,d,l,p,x,g=t(9439),m=t(3535),f=t(1652),h=t(621),b=t(5861),y=t(4687),Z=t.n(y),w=t(2791),v=t(9434),S=t(1686),k=t.n(S),j={width:"380px",position:"right-top",distance:"10px",opacity:1,fontSize:"20px",borderRadius:"12px"},z=t(6869),P=t(21),C=t(1912),_=t(6554),H=function(){var n=(0,b.Z)(Z().mark((function n(e){var t;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,C.Z.get("".concat(_.uQ,"?name=").concat(e,"&count=100"));case 3:return t=n.sent,n.abrupt("return",t.data.results);case 7:n.prev=7,n.t0=n.catch(0),console.log("".concat(n.t0,": 'Unable to retrieve places'"));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),I=t(168),N=t(6444),R=N.ZP.form(i||(i=(0,I.Z)(["\n  box-sizing: border-box;\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  height: fit-content;\n  padding: 32px 16px;\n  background: rgba(255, 255, 255, 0.33);\n  border-radius: 30px;\n  margin: 0 auto;\n  margin-bottom: 56px;\n  gap: 32px;\n  box-shadow: inset -5px -5px 9px rgba(255, 255, 255, 0.45),\n    inset 5px 5px 9px rgba(94, 104, 121, 0.3);\n  backdrop-filter: blur(5.3px);\n  -webkit-backdrop-filter: blur(5.3px);\n  border: 1px solid rgba(255, 255, 255, 0.77);\n  font-family: ",";\n  font-weight: ",";\n  font-size: 20px;\n  line-height: ",";\n\n  @media screen and (min-width: 768px) {\n    padding: 32px 56px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    width: 70%;\n  }\n"])),(function(n){return n.theme.fonts.main}),(function(n){return n.theme.fontWeights[0]}),(function(n){return n.theme.lineHeights.main})),F=N.ZP.div(r||(r=(0,I.Z)(["\n  align-items: center;\n  display: flex;\n  justify-content: center;\n"]))),E=N.ZP.div(o||(o=(0,I.Z)(["\n  max-width: 100%;\n"]))),L=N.ZP.label(a||(a=(0,I.Z)(["\n  display: block;\n  margin-bottom: 8px;\n"]))),Q=N.ZP.span(s||(s=(0,I.Z)(["\n  background: #ff00002e;\n  border-radius: 20px;\n  display: inline-block;\n  font-size: 14px;\n  margin-left: 4px;\n  padding: 8px;\n"]))),T=N.ZP.input(c||(c=(0,I.Z)(["\n  border-radius: 16px;\n  margin-bottom: 8px;\n  border: none;\n  box-sizing: border-box;\n  display: block;\n  height: 42px;\n  padding: 12px 16px;\n  width: 100%;\n  max-width: 100%;\n  background-color: rgba(255, 255, 255, 0.63);\n  font-size: 16px;\n\n  @media screen and (min-width: 768px) {\n    font-size: 20px;\n  }\n"]))),U=N.ZP.ul(u||(u=(0,I.Z)(["\n  border-radius: 16px;\n\n  max-height: 30vh;\n  max-width: 100%;\n  overflow-y: scroll;\n  background-color: rgba(255, 255, 255, 0.63);\n"]))),W=N.ZP.li(d||(d=(0,I.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 8px 16px;\n  max-width: 100%;\n"]))),q=N.ZP.span(l||(l=(0,I.Z)(["\n  display: inline-block;\n  font-size: 12px;\n  margin-top: 8px;\n  margin-bottom: 8px;\n\n  @media screen and (min-width: 768px) {\n    font-size: 16px;\n    margin-top: 12px;\n    margin-bottom: 12px;\n  }\n"]))),A=N.ZP.span(p||(p=(0,I.Z)([""]))),D=t(184),G=function(n){var e=n.elementRef,t=n.hideSuggs,i=n.isHideSuggs,r=n.setIsHideSuggs,o=n.setSelection,a=n.setShowForm,s=(0,w.useState)(""),c=(0,g.Z)(s,2),u=c[0],d=c[1],l=(0,w.useState)(""),p=(0,g.Z)(l,2),x=p[0],f=p[1],h=(0,w.useState)(""),y=(0,g.Z)(h,2),S=y[0],C=y[1],I=(0,w.useState)(""),N=(0,g.Z)(I,2),G=N[0],K=N[1],Y=(0,w.useState)(""),B=(0,g.Z)(Y,2),J=B[0],M=B[1],O=(0,w.useState)(""),V=(0,g.Z)(O,2),X=V[0],$=V[1],nn=(0,w.useState)([]),en=(0,g.Z)(nn,2),tn=en[0],rn=en[1],on=(0,w.useState)(""),an=(0,g.Z)(on,2),sn=an[0],cn=an[1],un=(0,v.I0)();(0,w.useEffect)((function(){u||t()}),[u,t]);var dn=function(){var n=(0,b.Z)(Z().mark((function n(e){var t;return Z().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d(e.target.value),r(!1),u){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,H(u);case 6:t=n.sent,!tn.includes(e.target.value)&&t&&rn(t.filter((function(n){return"AIRP"!==n.feature_code})).map((function(n){return n.admin1?{city:n.name,countryName:n.country,region:n.admin1,countryCode:n.country_code.toLowerCase(),latitude:n.latitude,longitude:n.longitude,timezone:n.timezone}:{city:n.name,countryName:n.country,region:"",countryCode:n.country_code.toLowerCase(),latitude:n.latitude,longitude:n.longitude,timezone:n.timezone}}))),t&&t.error&&cn(t.error);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),ln=function(){d(""),rn([]),cn(""),t()};return(0,D.jsx)(R,{onSubmit:function(n){n.preventDefault(),S||k().Notify.info("You should select city",j),S&&(un((0,P.ob)(G)),un((0,P.Q)(J)),un((0,P.s7)(u)),un((0,P.wF)(x)),un((0,z.FU)({lat:G,long:J})),un((0,z.yT)({lat:G,long:J})),un((0,z.dE)({lat:G,long:J})),un((0,z.ui)({lat:G,long:J,timezone:X})),un((0,z.e0)({lat:G,long:J,timezone:X})),o(!0),a(!1),un((0,z.lW)(u))),ln()},children:(0,D.jsx)(F,{children:(0,D.jsxs)(E,{children:[(0,D.jsx)(L,{children:sn&&(0,D.jsx)(Q,{children:sn})}),(0,D.jsx)(T,{type:"text",id:"city",name:"city",onChange:dn,value:u,required:!0,autoComplete:"off",placeholder:"Start typing your city name"}),(0,D.jsx)(U,{style:{display:i?"none":"block"},ref:e,children:tn.map((function(n,e){return(0,D.jsxs)(W,{onClick:function(){t(n.city),d(n.city),K(n.latitude),M(n.longitude),$(n.timezone),f(n.countryName),C(!0)},children:[(0,D.jsx)("img",{src:"".concat(_.tx).concat(n.countryCode,".svg"),width:"30",alt:"flag"}),(0,D.jsxs)(A,{children:[n.city,", ",n.region,", ",n.countryName]})]},""+n+e)}))}),(0,D.jsx)(q,{children:"*start typing and choose your city from the given options"}),(0,D.jsx)(m.o,{type:"submit",text:"Submit",color:"white"})]})})})},K=t(970),Y=N.ZP.div(x||(x=(0,I.Z)(["\n  box-sizing: border-box;\n  margin: 0 auto;\n  margin-bottom: 32px;\n\n  @media screen and (min-width: 1280px) {\n    width: 70%;\n  }\n"]))),B=t(3623).Container,J=function(){var n=(0,v.I0)(),e=(0,v.v9)(K.p0),t=(0,v.v9)(K.n3),i=(0,v.v9)(K.GZ),r=(0,v.v9)(K._P),o=(0,v.v9)(K.ge),a=(0,w.useRef)(),s=(0,w.useState)(!1),c=(0,g.Z)(s,2),u=c[0],d=c[1],l=(0,w.useState)(!1),p=(0,g.Z)(l,2),x=p[0],b=p[1],y=(0,w.useState)(!0),Z=(0,g.Z)(y,2),S=Z[0],k=Z[1];(0,w.useEffect)((function(){e&&0===r.length&&n((0,z.KP)())}),[e,n,r.length]);var j=function(){d(!0)};return(0,D.jsxs)("main",{style:{minHeight:"70vh"},onClick:function(n){n.currentTarget!==a&&j()},children:[(0,D.jsx)(f.p,{selector:x?K.t1:K._P,page:"search"}),(0,D.jsxs)(B,{children:[S?(0,D.jsx)(G,{elementRef:a,isHideSuggs:u,setIsHideSuggs:d,hideSuggs:j,selection:x,setSelection:b,setShowForm:k}):(0,D.jsx)(Y,{children:(0,D.jsx)(m.o,{type:"button",text:"Check other location",onClick:function(){k(!S)}})}),x&&t&&i&&o&&(0,D.jsx)(h.S,{})]})]})},M=w.memo(J)}}]);
//# sourceMappingURL=941.0f08ba81.chunk.js.map