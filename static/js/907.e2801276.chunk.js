"use strict";(self.webpackChunksmarty_weather=self.webpackChunksmarty_weather||[]).push([[907],{6907:function(n,e,t){t.r(e),t.d(e,{default:function(){return K}});var i,r,o,a,s,c,u,l,d,p,g=t(9439),x=t(1652),f=t(621),m=t(5861),h=t(4687),b=t.n(h),y=t(3535),Z=t(2791),v=t(9434),w=t(6869),S=t(21),k=t(1912),j=t(6554),z=function(){var n=(0,m.Z)(b().mark((function n(e){var t;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k.Z.get("".concat(j.uQ,"?name=").concat(e,"&count=100"));case 3:return t=n.sent,n.abrupt("return",t.data.results);case 7:n.prev=7,n.t0=n.catch(0),console.log("".concat(n.t0,": 'Unable to retrieve places'"));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),P=t(168),C=t(6444),H=C.ZP.form(i||(i=(0,P.Z)(["\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  height: fit-content;\n  padding: 32px 16px;\n  background: rgba(255, 255, 255, 0.33);\n  border-radius: 30px;\n  margin: 0 auto;\n  margin-bottom: 56px;\n  gap: 32px;\n  box-shadow: inset -5px -5px 9px rgba(255, 255, 255, 0.45),\n    inset 5px 5px 9px rgba(94, 104, 121, 0.3);\n  backdrop-filter: blur(5.3px);\n  -webkit-backdrop-filter: blur(5.3px);\n  border: 1px solid rgba(255, 255, 255, 0.77);\n  font-family: ",";\n  font-weight: ",";\n  font-size: 20px;\n  line-height: ",";\n\n  @media screen and (min-width: 768px) {\n    padding: 32px 56px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    width: 70%;\n  }\n"])),(function(n){return n.theme.fonts.main}),(function(n){return n.theme.fontWeights[0]}),(function(n){return n.theme.lineHeights.main})),_=C.ZP.div(r||(r=(0,P.Z)(["\n  align-items: center;\n  display: flex;\n  justify-content: center;\n"]))),I=C.ZP.div(o||(o=(0,P.Z)(["\n  padding: 8px;\n"]))),E=C.ZP.label(a||(a=(0,P.Z)(["\n  display: block;\n  margin-bottom: 8px;\n"]))),R=C.ZP.span(s||(s=(0,P.Z)(["\n  background: #ff00002e;\n  border-radius: 20px;\n  display: inline-block;\n  font-size: 14px;\n  margin-left: 4px;\n  padding: 8px;\n"]))),L=C.ZP.input(c||(c=(0,P.Z)(["\n  border-radius: 16px;\n  border: none;\n  box-sizing: border-box;\n  display: block;\n  height: 42px;\n  padding: 12px 16px;\n  width: 100%;\n  background-color: rgba(255, 255, 255, 0.63);\n  font-size: 16px;\n\n  @media screen and (min-width: 768px) {\n    font-size: 20px;\n  }\n"]))),Q=C.ZP.ul(u||(u=(0,P.Z)(["\n  border-radius: 16px;\n  max-height: 20vh;\n  overflow-y: scroll;\n  background-color: rgba(255, 255, 255, 0.63);\n"]))),T=C.ZP.li(l||(l=(0,P.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 8px 16px;\n"]))),U=C.ZP.span(d||(d=(0,P.Z)(["\n  display: inline-block;\n  font-size: 12px;\n  margin-top: 8px;\n  margin-bottom: 8px;\n\n  @media screen and (min-width: 768px) {\n    font-size: 16px;\n    margin-top: 12px;\n    margin-bottom: 12px;\n  }\n"]))),W=C.ZP.span(p||(p=(0,P.Z)([""]))),q=t(184),B=function(n){var e=n.elementRef,t=n.hideSuggs,i=n.isHideSuggs,r=n.setIsHideSuggs,o=n.setSelection,a=(0,Z.useState)(""),s=(0,g.Z)(a,2),c=s[0],u=s[1],l=(0,Z.useState)(""),d=(0,g.Z)(l,2),p=d[0],x=d[1],f=(0,Z.useState)(""),h=(0,g.Z)(f,2),k=h[0],P=h[1],C=(0,Z.useState)(""),B=(0,g.Z)(C,2),D=B[0],F=B[1],G=(0,Z.useState)(""),K=(0,g.Z)(G,2),A=K[0],J=K[1],M=(0,Z.useState)([]),N=(0,g.Z)(M,2),O=N[0],V=N[1],X=(0,Z.useState)(""),Y=(0,g.Z)(X,2),$=Y[0],nn=Y[1],en=(0,v.I0)();(0,Z.useEffect)((function(){c||t()}),[c,t]);var tn=function(){var n=(0,m.Z)(b().mark((function n(e){var t;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(u(e.target.value),r(!1),c){n.next=4;break}return n.abrupt("return");case 4:return n.next=6,z(c);case 6:t=n.sent,!O.includes(e.target.value)&&t&&V(t.map((function(n){return n.admin1?{city:n.name,region:n.admin1,country:n.country_code.toLowerCase(),latitude:n.latitude,longitude:n.longitude,timezone:n.timezone}:{city:n.name,region:"",country:n.country_code.toLowerCase(),latitude:n.latitude,longitude:n.longitude,timezone:n.timezone}}))),t&&t.error&&nn(t.error);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),rn=function(){u(""),V([]),nn(""),t()};return(0,q.jsx)(H,{onSubmit:function(n){n.preventDefault(),p||console.log("Select city"),p&&(en((0,S.ob)(k)),en((0,S.Q)(D)),en((0,w.Bs)({lat:k,long:D})),en((0,w.FU)({lat:k,long:D})),en((0,w.yT)({lat:k,long:D})),en((0,w.dE)({lat:k,long:D})),en((0,w.ui)({lat:k,long:D,timezone:A})),en((0,w.e0)({lat:k,long:D,timezone:A})),en((0,w.lW)(c)),o(!0)),rn()},children:(0,q.jsx)(_,{children:(0,q.jsxs)(I,{children:[(0,q.jsx)(E,{children:$&&(0,q.jsx)(R,{children:$})}),(0,q.jsx)(L,{list:"places",type:"text",id:"city",name:"city",onChange:tn,value:c,required:!0,autoComplete:"off",placeholder:"Start typing your city name"}),(0,q.jsx)(Q,{style:{display:i?"none":"block"},ref:e,children:O.map((function(n,e){return(0,q.jsxs)(T,{onClick:function(){t(n.city),u(n.city),P(n.latitude),F(n.longitude),J(n.timezone),x(!0)},children:[(0,q.jsx)("img",{src:"".concat(j.tx).concat(n.country,".svg"),width:"30",alt:"flag"}),(0,q.jsxs)(W,{children:[n.city,", ",n.region]})]},""+n+e)}))}),(0,q.jsx)(U,{children:"*start typing and choose your city from the given options"}),(0,q.jsx)(y.o,{type:"submit",text:"Submit",color:"white"})]})})})},D=t(970),F=t(3623).Container,G=function(){var n=(0,v.I0)(),e=(0,v.v9)(D.p0),t=(0,v.v9)(D.n3),i=(0,v.v9)(D.GZ),r=(0,v.v9)(D._P),o=(0,Z.useRef)(),a=(0,Z.useState)(!1),s=(0,g.Z)(a,2),c=s[0],u=s[1],l=(0,Z.useState)(!1),d=(0,g.Z)(l,2),p=d[0],m=d[1];(0,Z.useEffect)((function(){e&&0===r.length&&n((0,w.KP)())}),[e,n,r.length]);var h=function(){u(!0)};return(0,q.jsxs)("main",{style:{minHeight:"70vh"},onClick:function(n){n.currentTarget!==o&&h()},children:[(0,q.jsx)(x.p,{selector:p?D.t1:D._P,page:"search"}),(0,q.jsxs)(F,{children:[(0,q.jsx)(B,{elementRef:o,isHideSuggs:c,setIsHideSuggs:u,hideSuggs:h,selection:p,setSelection:m}),p&&t&&i&&(0,q.jsx)(f.S,{})]})]})},K=Z.memo(G)}}]);
//# sourceMappingURL=907.e2801276.chunk.js.map